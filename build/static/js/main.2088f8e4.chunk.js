(this.webpackJsonpFitnessTrackr_FrontEnd=this.webpackJsonpFitnessTrackr_FrontEnd||[]).push([[0],{61:function(e,t,n){"use strict";n.r(t);var r=n(5),c=n(1),a=n(30),i=n.n(a),s=n(8),o=n(4),u=n(2),j=n.n(u),l=n(3),p=n(9),d=n.n(p);function b(e,t){localStorage.setItem("currentUser",JSON.stringify(e)),localStorage.setItem("token",JSON.stringify(t))}function h(){return JSON.parse(localStorage.getItem("currentUser"))}function x(){return JSON.parse(localStorage.getItem("token"))}var O="https://ancient-garden-24060.herokuapp.com/api";function v(){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("".concat(O,"/routines"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("".concat(O,"/routines/").concat(t),{headers:{"Content-type":"application/json",Authorization:"Bearer "+x()}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("".concat(O,"/activities"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function k(e,t,n){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(j.a.mark((function e(t,n,r){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.patch("".concat(O,"/routines/").concat(t),{isPublic:!0,name:n,goal:r},{headers:{"Content-type":"application/json",Authorization:"Bearer "+x()}});case 3:return c=e.sent,a=c.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(l.a)(j.a.mark((function e(t,n,r){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("".concat(O,"/routines/").concat(t,"/activities"),{count:n,duration:r},{headers:{"Content-type":"application/json",Authorization:"Bearer "+x()}});case 3:return c=e.sent,a=c.data,console.log(a),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function R(e){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("".concat(O,"/routine_activities/").concat(t),{count:count,duration:duration},{headers:{"Content-type":"application/json",Authorization:"Bearer "+x()}});case 3:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var N=n(0),D=function(e){var t=e.setUser,n=e.user;return Object(N.jsxs)("header",{children:[Object(N.jsx)("h1",{children:"Fitness Tracker!"}),Object(N.jsx)("nav",{children:n?Object(N.jsxs)("li",{children:[Object(N.jsx)(s.b,{to:"/",children:"Home"}),Object(N.jsx)(s.b,{to:"/routines",children:"Routines"}),Object(N.jsx)(s.b,{to:"/myroutines",children:"My Routines"}),Object(N.jsx)(s.b,{to:"/activities",children:"Activities"}),Object(N.jsx)(s.b,{to:"/",children:Object(N.jsxs)("button",{onClick:function(){t(),localStorage.removeItem("currentUser"),localStorage.removeItem("token"),localStorage.clear()},children:["LOG OUT user: ",Object(N.jsx)("b",{children:n.username})]})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(s.b,{to:"/",children:"Home"}),Object(N.jsx)(s.b,{to:"/register",children:"Register"}),Object(N.jsx)(s.b,{to:"/Login",children:"Login"}),Object(N.jsx)(s.b,{to:"/routines",children:"Routines"}),Object(N.jsx)(s.b,{to:"/activities",children:"Activities"}),Object(N.jsxs)(o.c,{children:[Object(N.jsx)(o.a,{path:"/Register",children:Object(N.jsx)(F,{setUser:t})}),Object(N.jsx)(o.a,{path:"/Login",children:Object(N.jsx)(U,{setUser:t})})]})]})})]})},E=n(10),I=n(7),U=function(e){var t=e.setUser,n=Object(c.useState)({username:"",password:""}),a=Object(r.a)(n,2),i=a[0],s=a[1],o=function(e){s(Object(I.a)(Object(I.a)({},i),{},Object(E.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(l.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,d.a.post("".concat(O,"/users/login"),{username:i.username,password:i.password});case 4:r=e.sent,t(r.data.user),b(r.data.user,r.data.token),alert("Welcome back to FitnessTrackr!"),window.location.assign("/myroutines"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Login"}),Object(N.jsxs)("form",{onSubmit:u,children:[Object(N.jsx)("label",{children:"Username"}),Object(N.jsx)("input",{name:"username",value:i.username,onInput:o}),Object(N.jsx)("label",{children:"Password"}),Object(N.jsx)("input",{name:"password",value:i.password,onChange:o,type:"password"}),Object(N.jsx)("button",{type:"submit",children:"Login"})]})]})},F=function(e){var t=e.setUser,n=Object(c.useState)({username:"",password:""}),a=Object(r.a)(n,2),i=a[0],s=a[1],o=function(e){s(Object(I.a)(Object(I.a)({},i),{},Object(E.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(l.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,d.a.post("".concat(O,"/users/register"),{username:i.username,password:i.password});case 4:r=e.sent,t(r.data.user),b(r.data.user,r.data.token),alert("Thanks for registering with FitnessTrackr!"),window.location.assign("/routines"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Register"}),Object(N.jsxs)("form",{onSubmit:u,children:[Object(N.jsx)("label",{children:"Username"}),Object(N.jsx)("input",{name:"username",value:i.username,onInput:o}),Object(N.jsx)("label",{children:"Password"}),Object(N.jsx)("input",{name:"password",value:i.password,onChange:o,type:"password"}),Object(N.jsx)("button",{type:"submit",children:"Register"})]})]})},P=function(e){var t=e.routines;return Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{children:"Routines:"}),t.map((function(e){var t=e.id,n=e.name,r=e.goal,c=e.creatorName,a=e.activities;return Object(N.jsxs)("div",{className:"routineCard",children:[Object(N.jsxs)("h3",{children:["Name: ",n]}),Object(N.jsxs)("h3",{children:["Goal: ",r]}),Object(N.jsx)("br",{}),Object(N.jsx)("h4",{children:"Activities:"}),a.map((function(e){var t=e.id,n=e.name,r=e.description,c=e.count,a=e.duration;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Name:"})," ",n]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Description:"})," ",r]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Count:"})," ",c]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Duration:"})," ",a]})]},t)})),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Routine Creator:"})," ",c]})]},t)}))]})},q=function(e){var t=e.setAct,n=e.activitiesDupe,a=e.id,i=Object(c.useState)({count:"",duration:""}),s=Object(r.a)(i,2),o=s[0],u=s[1],p=function(){var e=Object(l.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),e.prev=1,t("inactive"),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),e.t0;case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){u(Object(I.a)(Object(I.a)({},o),{},Object(E.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t.target.id,o.count,o.duration);case 3:alert("Activity added successfully"),u({count:"",duration:""}),window.location.assign("/myroutines"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"addActivity",children:[Object(N.jsx)("h4",{children:"Add Activity"}),Object(N.jsxs)("form",{onSubmit:b,id:a,children:[Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{marginTop:"3px",padding:"3px"},children:"Activities:"}),Object(N.jsxs)("select",{name:"activities",onChange:d,children:[Object(N.jsx)("option",{value:"",children:"No Activity"}),n.map((function(e){return Object(N.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{marginTop:"3px",padding:"3px"},children:"Count:"}),Object(N.jsx)("input",{placeholder:"Count",style:{marginTop:"3px",padding:"3px"},required:!0,name:"count",value:o.count,onInput:d}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{marginTop:"3px",padding:"3px"},children:"Duration:"}),Object(N.jsx)("input",{placeholder:"Duration",style:{marginTop:"3px",padding:"3px"},required:!0,name:"duration",value:o.duration,onInput:d}),Object(N.jsx)("button",{style:{marginTop:"3px",padding:"3px"},type:"submit",children:"Add Activity"}),Object(N.jsx)("button",{style:{marginTop:"3px",padding:"3px"},onClick:p,type:"button",id:"cancel",children:"Cancel"})]})]})},B=function(e){var t=e.setEdit,n=e.id,a=e.name,i=e.goal,s=Object(c.useState)({isPublic:"true",name:"",goal:""}),o=Object(r.a)(s,2),u=o[0],p=o[1],d=function(){var e=Object(l.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),e.prev=1,t("inactive"),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),e.t0;case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){p(Object(I.a)(Object(I.a)({},u),{},Object(E.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,k(t.target.id,u.name,u.goal);case 4:alert("Routine updated successfully"),p({isPublic:"true",name:"",goal:""}),window.location.assign("/myroutines"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"editRoutine",children:[Object(N.jsx)("h3",{children:"Edit Routine"}),Object(N.jsxs)("form",{onSubmit:h,id:n,children:[Object(N.jsx)("label",{style:{marginTop:"3px",padding:"3px"},children:"Name:"}),Object(N.jsx)("input",{style:{marginTop:"3px",padding:"3px"},name:"name",required:!0,placeholder:a,value:u.name,onChange:b}),Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{marginTop:"3px",padding:"3px"},children:"Goal:"}),Object(N.jsx)("input",{style:{marginTop:"3px",padding:"3px"},required:!0,name:"goal",placeholder:i,value:u.goal,onChange:b}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{style:{marginTop:"3px",padding:"3px"},type:"submit",id:"submit",children:"Save Edit"}),Object(N.jsx)("button",{style:{marginTop:"3px",padding:"3px"},onClick:d,type:"button",id:"cancel",children:"Cancel"})]})]})},z=function(e){var t=e.user,n=e.routines,a=e.setRoutines,i=e.activities,o=Object(c.useState)("inactive"),u=Object(r.a)(o,2),p=u[0],d=u[1],b=Object(c.useState)("inactive"),h=Object(r.a)(b,2),x=h[0],O=h[1],m=i,g=function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(t.target.id);case 3:return e.next=5,v();case 5:n=e.sent,a(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t.target.id);case 3:return e.next=5,v();case 5:n=e.sent,a(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{children:"Routines created by:"}),Object(N.jsx)("h3",{children:t.username}),Object(N.jsx)(s.b,{to:"/createroutine",children:Object(N.jsx)("button",{type:"button",id:"newRoutine",children:"Create A New Routine"})}),n.map((function(e){var r=e.id,c=e.name,i=e.goal,s=e.creatorName,o=e.activities;return Object(N.jsx)("div",{className:"routineCard",children:t.username===s&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("button",{type:"button",id:"idEdit".concat(r),onClick:function(){return d("active")},children:"Edit Routine"},"keyEdit".concat(r)),"active"===p&&Object(N.jsx)(B,{setRoutines:a,setEdit:d,edit:p,id:r,name:c,goal:i,children:" "}),Object(N.jsx)("button",{onClick:g,type:"button",id:r,children:"Delete Routine"}),Object(N.jsxs)("h4",{children:["Routine Name: ",c]}),Object(N.jsxs)("h4",{children:["Routine Goal: ",i]}),Object(N.jsx)("button",{type:"button",id:"idAct".concat(r),onClick:function(){return O("active")},children:"Add Activity"},"keyAct".concat(r)),"active"===x&&Object(N.jsx)(q,{routines:n,activitiesDupe:m,setAct:O,act:x,id:r,children:" "}),Object(N.jsx)("h5",{children:"Activities:"}),o.map((function(e){var t=e.id,n=e.name,r=e.description,c=e.count,a=e.duration;return Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{onClick:y,type:"button",id:t,children:"Delete Activity"}),Object(N.jsxs)("p",{children:["Name: ",n]}),Object(N.jsxs)("p",{children:["Description: ",r]}),Object(N.jsxs)("p",{children:["Count: ",c]}),Object(N.jsxs)("p",{children:["Duration: ",a]})]},t)}))]})},r)}))]})},J=function(e){var t=e.activities,n=e.setActivities,a=e.user,i=Object(c.useState)({name:"",description:""}),s=Object(r.a)(i,2),o=s[0],u=s[1],p=function(e){u(Object(I.a)(Object(I.a)({},o),{},Object(E.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(l.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.a.post("".concat(O,"/activities"),{name:o.name,description:o.description},{headers:{Authorization:"Bearer "+x()}});case 4:return e.sent,e.next=7,y();case 7:r=e.sent,n(r),u({name:"",description:""}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(1),e.t0,"Error creating activity";case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{children:"Activities:"}),a?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("form",{onSubmit:b,children:[Object(N.jsx)("label",{children:"Name"}),Object(N.jsx)("input",{required:!0,name:"name",value:o.name,onInput:p}),Object(N.jsx)("label",{children:"Description"}),Object(N.jsx)("input",{required:!0,name:"description",value:o.description,onChange:p}),Object(N.jsx)("button",{type:"submit",children:"Create"})]}),t.map((function(e){var t=e.id,n=e.name,r=e.description;return Object(N.jsxs)("div",{className:"activityCard",children:[Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Name:"})," ",n]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Description:"})," ",r]})]},t)}))]}):Object(N.jsx)(N.Fragment,{children:t.map((function(e){var t=e.id,n=e.name,r=e.description;return Object(N.jsxs)("div",{className:"activityCard",children:[Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Name:"})," ",n]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Description:"})," ",r]})]},t)}))})]})},L=function(e){var t=e.setRoutines,n=Object(c.useState)({isPublic:"true",name:"",goal:""}),a=Object(r.a)(n,2),i=a[0],o=a[1],u=function(e){o(Object(I.a)(Object(I.a)({},i),{},Object(E.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(l.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,d.a.post("".concat(O,"/routines"),{isPublic:!0,name:i.name,goal:i.goal},{headers:{"Content-type":"application/json",Authorization:"Bearer "+x()}});case 4:return e.sent,e.next=7,v();case 7:r=e.sent,t(r),alert("Routine created successfully!"),o({isPublic:"true",name:"",goal:""}),window.location.assign("/myroutines"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),alert("Error Creating Routine",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"Create New Routine"}),Object(N.jsxs)("form",{onSubmit:p,children:[Object(N.jsx)("label",{style:{marginTop:"3px",padding:"3px"},children:"Name:"}),Object(N.jsx)("input",{style:{marginTop:"3px",padding:"3px"},required:!0,name:"name",value:i.name,onChange:u})," ",Object(N.jsx)("br",{}),Object(N.jsx)("label",{style:{marginTop:"3px",padding:"3px"},children:"Goal:"}),Object(N.jsx)("input",{style:{marginTop:"3px",padding:"3px"},required:!0,name:"goal",value:i.goal,onChange:u})," ",Object(N.jsx)("br",{}),Object(N.jsx)("button",{style:{marginTop:"3px",padding:"3px"},type:"submit",children:"Create Routine"}),Object(N.jsx)(s.b,{to:"/myroutines",children:Object(N.jsx)("button",{style:{marginTop:"3px",padding:"3px"},type:"button",id:"myroutines",children:"Cancel"})})]})]})},G=function(){var e=Object(c.useState)(h),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),u=Object(r.a)(i,2),j=u[0],l=u[1],p=Object(c.useState)([]),d=Object(r.a)(p,2),b=d[0],x=d[1];return Object(c.useEffect)((function(){v().then((function(e){l(e)})).catch((function(e){throw e})),y().then((function(e){x(e)})).catch((function(e){throw e}))}),[]),Object(N.jsx)(s.a,{children:Object(N.jsxs)("div",{children:[Object(N.jsx)(D,{setUser:a,user:n}),Object(N.jsxs)(o.c,{children:[Object(N.jsx)(o.a,{exact:!0,path:"/",children:" Please select a link above to navigate!"}),Object(N.jsx)(o.a,{path:"/routines",children:Object(N.jsx)(P,{routines:j})}),Object(N.jsx)(o.a,{path:"/myroutines",children:Object(N.jsx)(z,{routines:j,user:n,setRoutines:l,activities:b})}),Object(N.jsx)(o.a,{path:"/activities",children:Object(N.jsx)(J,{activities:b,user:n,setActivities:x})}),Object(N.jsx)(o.a,{path:"/createroutine",children:Object(N.jsx)(L,{user:n,setRoutines:l})})]})]})})};i.a.render(Object(N.jsx)(G,{}),document.getElementById("app"))}},[[61,1,2]]]);
//# sourceMappingURL=main.2088f8e4.chunk.js.map